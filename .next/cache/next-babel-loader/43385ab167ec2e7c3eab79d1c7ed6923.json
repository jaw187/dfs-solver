{"ast":null,"code":"import _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nvar _jsxFileName = \"/Users/jwesto1/Code/jaw187/dfs-solver/components/lineups.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Card from './card';\nimport { useSelector, useDispatch, shallowEqual } from \"react-redux\";\nimport Solver from \"../solver/index\";\nimport { log } from './utils';\nvar solve = Solver.solve,\n    Models = Solver.Models,\n    players = Solver.players;\n\nvar getState = function getState() {\n  var dispatch = useDispatch();\n  var slates = useSelector(function (state) {\n    return state.slates;\n  }, shallowEqual);\n  var selectedSlate = useSelector(function (state) {\n    return state.selectedSlate;\n  });\n  var projection = useSelector(function (state) {\n    return state.projection;\n  });\n  var results = useSelector(function (state) {\n    return state.results;\n  });\n  var view = useSelector(function (state) {\n    return state.view;\n  });\n\n  var removeLineup = function removeLineup(i) {\n    dispatch({\n      type: 'REMOVE_RESULT',\n      payload: i\n    });\n  };\n\n  return {\n    slates: slates,\n    selectedSlate: selectedSlate,\n    projection: projection,\n    results: results,\n    view: view,\n    removeLineup: removeLineup\n  };\n};\n\nvar Lineups = function Lineups() {\n  var _getState = getState(),\n      slates = _getState.slates,\n      selectedSlate = _getState.selectedSlate,\n      projection = _getState.projection,\n      results = _getState.results,\n      view = _getState.view,\n      removeLineup = _getState.removeLineup;\n\n  if (view !== 'results') {\n    return null;\n  }\n\n  if (results.length === 0) {\n    return __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"Generate some lineups\");\n  }\n\n  var slate = slates && slates[selectedSlate];\n  var sport = slate.Sport.toLowerCase();\n  var site = 'draftkings';\n  var type = slate.GameType.Name.toLowerCase();\n\n  var formatPlayer = function formatPlayer(lineupPlayer) {\n    var player = slate.players.find(function (player) {\n      return player.draftableId == lineupPlayer.id;\n    });\n\n    if (!player) {\n      return lineupPlayer.id;\n    }\n\n    return \"\".concat(player.position, \" - \").concat(player.displayName, \" - $\").concat(player.salary);\n  };\n\n  var headers = {\n    nfl: {\n      draftkings: {\n        classic: \"QB,RB,RB,WR,WR,WR,TE,FLEX,DST\\n\"\n      }\n    },\n    golf: {\n      draftkings: {\n        classic: \"G,G,G,G,G,G\\n\"\n      }\n    }\n  };\n  var exporters = {\n    nfl: {\n      draftkings: {\n        classic: function classic(result) {\n          var _result$lineup = result.lineup,\n              qb = _result$lineup.qb,\n              rbs = _result$lineup.rbs,\n              wrs = _result$lineup.wrs,\n              te = _result$lineup.te,\n              flex = _result$lineup.flex,\n              dst = _result$lineup.dst;\n          return \"\".concat(qb.id, \",\").concat(rbs[0].id, \",\").concat(rbs[1].id, \",\").concat(wrs[0].id, \",\").concat(wrs[1].id, \",\").concat(wrs[2].id, \",\").concat(te.id, \",\").concat(flex.id, \",\").concat(dst.id);\n        }\n      }\n    },\n    golf: {\n      draftkings: {\n        classic: function classic(result) {\n          var g = result.lineup.g;\n          return \"\".concat(g[0].id, \",\").concat(g[1].id, \",\").concat(g[2].id, \",\").concat(g[3].id, \",\").concat(g[4].id, \",\").concat(g[5].id);\n        }\n      }\n    }\n  };\n\n  var exportToCSV = function exportToCSV() {\n    log('export linieups');\n    var header = headers[sport][site][type];\n    var csv = \"data:text/csv;charset=utf-8,\" + header + results.map(exporters[sport][site][type]).join('\\n');\n    var _window = window,\n        encodeURI = _window.encodeURI;\n    var downloadLink = document.createElement(\"a\");\n    downloadLink.href = encodeURI(csv);\n    downloadLink.download = \"\".concat(selectedSlate, \" - Lineups.csv\");\n    document.body.appendChild(downloadLink);\n    downloadLink.click();\n    document.body.removeChild(downloadLink);\n  };\n\n  var remove = function remove(i) {\n    log('remove lineup');\n    return function () {\n      return removeLineup(i);\n    };\n  };\n\n  var containerStyle = {\n    display: 'flex',\n    flexDirection: 'row',\n    flexWrap: 'wrap'\n  };\n  var lineupStyle = {\n    padding: 16,\n    margin: 8,\n    backgroundColor: \"#f3f3f3\",\n    border: '1px solid #DDD',\n    fontSize: 12\n  };\n  var cardContainer = {\n    display: 'flex',\n    flexDirection: 'row'\n  };\n  var componentContainer = {\n    padding: 16\n  };\n  var playerCounts = {};\n  results.forEach(function (result) {\n    result.players.forEach(function (player) {\n      if (!playerCounts[player]) {\n        playerCounts[player] = 0;\n      }\n\n      ++playerCounts[player];\n    });\n  });\n\n  var ownership = _Object$keys(playerCounts).map(function (player) {\n    return {\n      player: formatPlayer({\n        id: player\n      }),\n      count: playerCounts[player],\n      percentage: (playerCounts[player] / results.length * 100).toFixed(0)\n    };\n  });\n\n  var ownershipPlayerStyle = {\n    whiteSpace: 'nowrap'\n  };\n  var lineupFormats = {\n    nfl: {\n      draftkings: {\n        classic: function classic(result, i) {\n          return __jsx(\"div\", {\n            key: i,\n            style: lineupStyle,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 168\n            },\n            __self: this\n          }, __jsx(\"button\", {\n            onClick: remove(i),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 169\n            },\n            __self: this\n          }, \"Remove\"), __jsx(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 170\n            },\n            __self: this\n          }, formatPlayer(result.lineup.qb)), __jsx(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 171\n            },\n            __self: this\n          }, formatPlayer(result.lineup.rbs[0])), __jsx(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 172\n            },\n            __self: this\n          }, formatPlayer(result.lineup.rbs[1])), __jsx(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 173\n            },\n            __self: this\n          }, formatPlayer(result.lineup.wrs[0])), __jsx(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 174\n            },\n            __self: this\n          }, formatPlayer(result.lineup.wrs[1])), __jsx(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 175\n            },\n            __self: this\n          }, formatPlayer(result.lineup.wrs[2])), __jsx(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 176\n            },\n            __self: this\n          }, formatPlayer(result.lineup.te)), __jsx(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 177\n            },\n            __self: this\n          }, formatPlayer(result.lineup.flex)), __jsx(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 178\n            },\n            __self: this\n          }, formatPlayer(result.lineup.dst)));\n        }\n      }\n    },\n    golf: {\n      draftkings: {\n        classic: function classic(result, i) {\n          return __jsx(\"div\", {\n            key: i,\n            style: lineupStyle,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 186\n            },\n            __self: this\n          }, __jsx(\"button\", {\n            onClick: remove(i),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 187\n            },\n            __self: this\n          }, \"Remove\"), __jsx(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 188\n            },\n            __self: this\n          }, formatPlayer(result.lineup.g[0])), __jsx(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 189\n            },\n            __self: this\n          }, formatPlayer(result.lineup.g[1])), __jsx(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 190\n            },\n            __self: this\n          }, formatPlayer(result.lineup.g[2])), __jsx(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 191\n            },\n            __self: this\n          }, formatPlayer(result.lineup.g[3])), __jsx(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 192\n            },\n            __self: this\n          }, formatPlayer(result.lineup.g[4])), __jsx(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 193\n            },\n            __self: this\n          }, formatPlayer(result.lineup.g[5])));\n        }\n      }\n    }\n  };\n  return __jsx(\"div\", {\n    style: componentContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201\n    },\n    __self: this\n  }, __jsx(\"h2\", {\n    style: {\n      marginTop: 0\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202\n    },\n    __self: this\n  }, \"Lineups\"), __jsx(\"div\", {\n    style: cardContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203\n    },\n    __self: this\n  }, __jsx(Card, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204\n    },\n    __self: this\n  }, __jsx(\"h3\", {\n    style: {\n      marginTop: 0\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205\n    },\n    __self: this\n  }, \"Ownership\"), !!ownership.length && __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208\n    },\n    __self: this\n  }, ownership.map(function (data) {\n    return __jsx(\"div\", {\n      style: ownershipPlayerStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, data.player, \" - \", data.count, \" - \", data.percentage, \"%\");\n  }))), __jsx(Card, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220\n    },\n    __self: this\n  }, !!results.length && __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223\n    },\n    __self: this\n  }, __jsx(\"h3\", {\n    style: {\n      marginTop: 0\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224\n    },\n    __self: this\n  }, results.length, \" lineups\"), __jsx(\"button\", {\n    onClick: exportToCSV,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225\n    },\n    __self: this\n  }, \"Export\"), __jsx(\"div\", {\n    style: containerStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226\n    },\n    __self: this\n  }, results.map(lineupFormats[sport][site][type]))))));\n};\n\nexport default Lineups;","map":{"version":3,"sources":["/Users/jwesto1/Code/jaw187/dfs-solver/components/lineups.js"],"names":["Card","useSelector","useDispatch","shallowEqual","Solver","log","solve","Models","players","getState","dispatch","slates","state","selectedSlate","projection","results","view","removeLineup","i","type","payload","Lineups","length","slate","sport","Sport","toLowerCase","site","GameType","Name","formatPlayer","lineupPlayer","player","find","draftableId","id","position","displayName","salary","headers","nfl","draftkings","classic","golf","exporters","result","lineup","qb","rbs","wrs","te","flex","dst","g","exportToCSV","header","csv","map","join","window","encodeURI","downloadLink","document","createElement","href","download","body","appendChild","click","removeChild","remove","containerStyle","display","flexDirection","flexWrap","lineupStyle","padding","margin","backgroundColor","border","fontSize","cardContainer","componentContainer","playerCounts","forEach","ownership","count","percentage","toFixed","ownershipPlayerStyle","whiteSpace","lineupFormats","marginTop","data"],"mappings":"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","sourcesContent":["import Card from './card';\nimport { useSelector, useDispatch, shallowEqual } from \"react-redux\";\nimport Solver from \"../solver/index\";\nimport { log } from './utils';\n\nconst { solve, Models, players } = Solver;\n\nconst getState = () => {\n  const dispatch = useDispatch();\n\n  const slates = useSelector(state => state.slates, shallowEqual);\n  const selectedSlate = useSelector(state => state.selectedSlate);\n  const projection = useSelector(state => state.projection);\n  const results = useSelector(state => state.results);\n  const view = useSelector(state => state.view);\n\n  const removeLineup = (i) => {\n    dispatch({\n      type: 'REMOVE_RESULT',\n      payload: i\n    });\n  };\n\n  return {\n    slates,\n    selectedSlate,\n    projection,\n    results,\n    view,\n    removeLineup\n  };\n};\n\nconst Lineups = () => {\n  const {\n    slates,\n    selectedSlate,\n    projection,\n    results,\n    view,\n    removeLineup\n  } = getState();\n\n  if (view !== 'results') {\n    return null;\n  }\n\n  if (results.length === 0) {\n    return (<div>Generate some lineups</div>);\n  }\n\n  const slate = slates && slates[selectedSlate];\n  const sport = slate.Sport.toLowerCase();\n  const site = 'draftkings';\n  const type = slate.GameType.Name.toLowerCase();\n\n  const formatPlayer = (lineupPlayer) => {\n    const player = slate.players.find((player) => player.draftableId == lineupPlayer.id);\n    if (!player) {\n      return lineupPlayer.id;\n    }\n\n    return `${player.position} - ${player.displayName} - $${player.salary}`;\n  };\n\n  const headers = {\n    nfl: {\n      draftkings: {\n        classic: \"QB,RB,RB,WR,WR,WR,TE,FLEX,DST\\n\"\n      }\n    },\n    golf: {\n      draftkings: {\n        classic: \"G,G,G,G,G,G\\n\"\n      }\n    }\n  };\n\n  const exporters = {\n    nfl: {\n      draftkings: {\n        classic: (result) => {\n          const { lineup: { qb, rbs, wrs, te, flex, dst } } = result;\n          return `${qb.id},${rbs[0].id},${rbs[1].id},${wrs[0].id},${wrs[1].id},${wrs[2].id},${te.id},${flex.id},${dst.id}`\n        }\n      }\n    },\n    golf: {\n      draftkings: {\n        classic: (result) => {\n          const { lineup: { g } } =  result;\n          return `${g[0].id},${g[1].id},${g[2].id},${g[3].id},${g[4].id},${g[5].id}`;\n        }\n      }\n    }\n  };\n\n  const exportToCSV = () => {\n    log('export linieups')\n    const header = headers[sport][site][type];\n    const csv = \"data:text/csv;charset=utf-8,\" + header + results.map(exporters[sport][site][type]).join('\\n');\n\n    const { encodeURI } = window;\n\n    const downloadLink = document.createElement(\"a\");\n    downloadLink.href = encodeURI(csv);\n    downloadLink.download = `${selectedSlate} - Lineups.csv`;\n    document.body.appendChild(downloadLink);\n    downloadLink.click();\n    document.body.removeChild(downloadLink);\n  };\n\n  const remove = (i) => {\n    log('remove lineup')\n    return () => removeLineup(i);\n  };\n\n  const containerStyle = {\n    display: 'flex',\n    flexDirection: 'row',\n    flexWrap: 'wrap'\n  };\n\n  const lineupStyle = {\n    padding: 16,\n    margin: 8,\n    backgroundColor: \"#f3f3f3\",\n    border: '1px solid #DDD',\n    fontSize: 12\n  }\n\n  const cardContainer = {\n    display: 'flex',\n    flexDirection: 'row'\n  }\n\n  const componentContainer = {\n    padding: 16\n  };\n\n  const playerCounts = {};\n  results.forEach((result) => {\n    result.players.forEach((player) => {\n      if (!playerCounts[player]) {\n        playerCounts[player] = 0;\n      }\n\n      ++playerCounts[player];\n    });\n  });\n\n  const ownership = Object.keys(playerCounts).map((player) => {\n    return {\n      player: formatPlayer({ id: player }),\n      count: playerCounts[player],\n      percentage: ((playerCounts[player] / results.length) * 100).toFixed(0)\n    }\n  });\n\n  const ownershipPlayerStyle = {\n    whiteSpace: 'nowrap'\n  }\n\n  const lineupFormats = {\n    nfl: {\n      draftkings: {\n        classic: (result, i) => (\n          <div key={i} style={lineupStyle}>\n            <button onClick={remove(i)}>Remove</button>\n            <div>{formatPlayer(result.lineup.qb)}</div>\n            <div>{formatPlayer(result.lineup.rbs[0])}</div>\n            <div>{formatPlayer(result.lineup.rbs[1])}</div>\n            <div>{formatPlayer(result.lineup.wrs[0])}</div>\n            <div>{formatPlayer(result.lineup.wrs[1])}</div>\n            <div>{formatPlayer(result.lineup.wrs[2])}</div>\n            <div>{formatPlayer(result.lineup.te)}</div>\n            <div>{formatPlayer(result.lineup.flex)}</div>\n            <div>{formatPlayer(result.lineup.dst)}</div>\n          </div>\n        )\n      }\n    },\n    golf: {\n      draftkings: {\n        classic: (result, i) => (\n          <div key={i} style={lineupStyle}>\n            <button onClick={remove(i)}>Remove</button>\n            <div>{formatPlayer(result.lineup.g[0])}</div>\n            <div>{formatPlayer(result.lineup.g[1])}</div>\n            <div>{formatPlayer(result.lineup.g[2])}</div>\n            <div>{formatPlayer(result.lineup.g[3])}</div>\n            <div>{formatPlayer(result.lineup.g[4])}</div>\n            <div>{formatPlayer(result.lineup.g[5])}</div>\n          </div>\n        )\n      }\n    }\n  };\n\n  return (\n    <div style={componentContainer}>\n      <h2 style={{ marginTop: 0 }}>Lineups</h2>\n      <div style={cardContainer}>\n        <Card>\n          <h3 style={{ marginTop: 0 }}>Ownership</h3>\n          {\n            !!ownership.length && (\n              <div>\n                {\n                  ownership.map((data) => (\n                    <div style={ownershipPlayerStyle}>\n                      {data.player} - {data.count} - {data.percentage}%\n                    </div>\n                  ))\n                }\n              </div>\n            )\n          }\n        </Card>\n        <Card>\n          {\n            !!results.length && (\n              <div>\n                <h3 style={{marginTop: 0 }}>{results.length} lineups</h3>\n                <button onClick={exportToCSV}>Export</button>\n                <div style={containerStyle}>\n                  {\n                    results.map(lineupFormats[sport][site][type])\n                  }\n                </div>\n              </div>\n            )\n          }\n        </Card>\n      </div>\n    </div>\n  );\n};\n\nexport default Lineups;\n"]},"metadata":{},"sourceType":"module"}